{"version":3,"sources":["components/Filter.js","components/List.js","components/Form.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","searchFilter","onChange","handleSearchFilter","Entry","person","destroyPerson","name","number","onClick","List","persons","map","key","id","Form","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Notification","message","className","text","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","setNewName","setNewNumber","setSearchFilter","setMessage","useEffect","personService","initialPersons","updatePerson","newPerson","returnedPerson","setTimeout","catch","error","filter","personList","localeCompare","undefined","sensitivity","event","target","preventDefault","personObject","filteredPerson","pop","window","confirm","concat","find","p","ReactDOM","render","document","getElementById"],"mappings":"+OAUeA,EARA,SAACC,GACZ,OACE,wCACU,2BAAOC,MAAOD,EAAME,aAAcC,SAAUH,EAAMI,uBCH5DC,EAAQ,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,cACrB,OACE,2BAAID,EAAOE,KAAX,IAAkBF,EAAOG,OAAzB,IAAiC,4BAAQC,QAASH,GAAjB,YAcxBI,EAVF,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,QAASL,EAAmB,EAAnBA,cACrB,OACE,6BACGK,EAAQC,KAAI,SAAAP,GAAM,OACjB,kBAAC,EAAD,CAAOQ,IAAKR,EAAOE,KAAMF,OAAQA,EAAQC,cAAe,kBAAMA,EAAcD,EAAOS,YCM9EC,EAhBF,SAAChB,GACV,OACI,0BAAMiB,SAAUjB,EAAMkB,WACpB,sCACQ,2BAAOjB,MAAOD,EAAMmB,QAAShB,SAAUH,EAAMoB,oBAErD,wCACU,2BAAOnB,MAAOD,EAAMqB,UAAWlB,SAAUH,EAAMsB,sBAEzD,6BACE,4BAAQC,KAAK,UAAb,UCEGC,G,MAXM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAIA,EAAQF,KAEJ,yBAAKG,UAAYD,EAAQF,MACnBE,EAAQE,MAIf,O,gBCTLC,EAAU,eAsBD,EApBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB9B,EAfA,SAACC,GAEZ,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa9B,EAVC,SAAClB,GAEb,OADgBc,IAAMO,OAAN,UAAgBR,EAAhB,YAA2Bb,IAC5BgB,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ9B,EALA,SAAClB,EAAImB,GAEhB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBb,GAAMmB,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCsG9BK,EApHH,WAAO,IAAD,EACgBC,mBAAS,IADzB,mBACR3B,EADQ,KACC4B,EADD,OAEgBD,mBAAS,IAFzB,mBAERpB,EAFQ,KAECsB,EAFD,OAGoBF,mBAAS,IAH7B,mBAGRlB,EAHQ,KAGGqB,EAHH,OAI0BH,mBAAS,IAJnC,mBAIRrC,EAJQ,KAIMyC,EAJN,OAKgBJ,mBAAS,IALzB,mBAKRd,EALQ,KAKCmB,EALD,KAOhBC,qBAAU,WACRC,IAEGf,MAAK,SAAAgB,GACJP,EAAWO,QAEd,IAEH,IAiDMC,EAAe,SAACjC,EAAIkC,GACxBH,EACU/B,EAAIkC,GACXlB,MAAK,SAAAmB,GACJV,EAAW5B,EAAQC,KAAI,SAAAP,GAAM,OAAIA,EAAOS,KAAOA,EAAKT,EAAS4C,MAC7DN,EAAW,eAAInB,EAAL,CAAcF,KAAK,KAAMI,KAAK,GAAD,OAAIuB,EAAe1C,KAAnB,qBACvC2C,YAAW,WACTP,EAAW,MACV,QAEJQ,OAAM,SAAAC,GACL,IAAM5B,EAAU4B,EAAMrB,SAASC,KAC/BW,EAAW,eAAInB,EAAL,CAAcF,KAAK,QAASI,KAAK,GAAD,OAAIF,EAAQ4B,UACtDF,YAAW,WACTP,EAAW,MACV,KACHJ,EAAW5B,EAAQ0C,QAAO,SAAAhD,GAAM,OAAIA,EAAOS,KAAOA,UAclDwC,EAA8B,KAAjBrD,EACfU,EACAA,EAAQ0C,QAAO,SAAChD,GAEhB,OAAsB,IADHA,EAAOE,KAAKgD,cAActD,OAAcuD,EAAW,CAACC,YAAa,YAIxF,OACE,6BACE,kBAAC,EAAD,CAAcjC,QAASA,IACvB,yCACA,kBAAC,EAAD,CAAQvB,aAAcA,EAAcE,mBAfb,SAACuD,GAC1BhB,EAAgBgB,EAAMC,OAAO3D,UAe3B,6CACA,kBAAC,EAAD,CAAMiB,UA5FQ,SAACyC,GACjBA,EAAME,iBACN,IAAMC,EAAe,CACnBtD,KAAMW,EACNV,OAAQY,GAEJ0C,EAAiBnD,EAAQ0C,QAAO,SAAAhD,GAAM,OAAIA,EAAOE,OAASsD,EAAatD,QAAMwD,MAE/ED,EACEE,OAAOC,QAAP,qCAC4BJ,EAAatD,KADzC,2BAGFwC,EAAae,EAAehD,GAAI+C,GAGlChB,EACUgB,GACP/B,MAAK,SAAAmB,GACJV,EAAW5B,EAAQuD,OAAOjB,IAC1BN,EAAW,eAAInB,EAAL,CAAcF,KAAK,KAAMI,KAAK,GAAD,OAAIuB,EAAe1C,KAAnB,aACvC2C,YAAW,WACTP,EAAW,MACV,QAEJQ,OAAM,SAAAC,GACL,IAAM5B,EAAU4B,EAAMrB,SAASC,KAC/BW,EAAW,eAAInB,EAAL,CAAcF,KAAK,QAASI,KAAK,GAAD,OAAIF,EAAQ4B,UACtDF,YAAW,WACTP,EAAW,MACV,QAGTF,EAAa,IACbD,EAAW,KA2DmBtB,QAASA,EAASC,iBAvBzB,SAACuC,GACxBlB,EAAWkB,EAAMC,OAAO3D,QAuBhBqB,mBArBiB,SAACqC,GAC1BjB,EAAaiB,EAAMC,OAAO3D,QAoBsBoB,UAAWA,IAEzD,uCACA,kBAAC,EAAD,CAAMT,QAAS2C,EAAYhD,cA5DT,SAACQ,GACrB,IAAMT,EAASM,EAAQwD,MAAK,SAAAC,GAAC,OAAIA,EAAEtD,KAAOA,KACtCkD,OAAOC,QAAP,0CAAkD5D,EAAOE,KAAzD,OACJsC,EACWxC,EAAOS,IACfgB,MAAK,WAIJS,EAAW5B,EAAQ0C,QAAO,SAAAhD,GAAM,OAAIA,EAAOS,KAAOA,c,MC9D1DuD,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,W","file":"static/js/main.f2a03257.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return (\n      <div>\n        search: <input value={props.searchFilter} onChange={props.handleSearchFilter}/>\n      </div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst Entry = ({ person, destroyPerson }) => {\n    return (\n      <p>{person.name} {person.number} <button onClick={destroyPerson}>delete</button></p>\n    )\n}\n  \nconst List = ({ persons, destroyPerson}) => {\n    return (\n      <div>\n        {persons.map(person =>\n          <Entry key={person.name} person={person} destroyPerson={() => destroyPerson(person.id)}/>\n        )}\n      </div>\n    )\n}\n\nexport default List","import React from 'react'\n\nconst Form = (props) => {\n    return (\n        <form onSubmit={props.addPerson}>\n          <div>\n            name: <input value={props.newName} onChange={props.handleNameChange}/>\n          </div>\n          <div>\n            number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n    )\n}\n\nexport default Form","import React from 'react'\nimport './Notification.css'\n\nconst Notification = ({ message }) => {\n    if (message.type) {\n        return (\n            <div className={ message.type }>\n                { message.text }\n            </div>\n        )\n    }\n    return null\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst destroy = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, destroy, update }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport List from './components/List'\nimport Form from './components/Form'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchFilter, setSearchFilter ] = useState('')\n  const [ message, setMessage ] = useState({})\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    const filteredPerson = persons.filter(person => person.name === personObject.name).pop()\n\n    if (filteredPerson) {\n      if (window.confirm(\n        `Phonebook already contains ${personObject.name}, replace the number?`\n        )){\n        updatePerson(filteredPerson.id, personObject)\n      }\n    } else {\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setMessage({...message, type:'ok', text:`${returnedPerson.name} added`})\n          setTimeout(() => {\n            setMessage({})\n          }, 3000)\n        })\n        .catch(error => {\n          const message = error.response.data\n          setMessage({...message, type:'error', text:`${message.error}`})\n          setTimeout(() => {\n            setMessage({})\n          }, 5000)\n        })\n    }\n    setNewNumber('')\n    setNewName('')\n  }\n\n  const destroyPerson = (id) => {\n    const person = persons.find(p => p.id === id)\n    if (window.confirm(`Are you sure you want to delete ${person.name}?`))\n    personService\n      .destroy(person.id)\n      .then(() => {\n        // To force an error, comment next line and (1) delete an entry,\n        // (2) try to edit the deleted entry (enter the same name and \n        // different number) and (3) press ok in the confirmation window.\n        setPersons(persons.filter(person => person.id !== id))\n      })\n  }\n\n  const updatePerson = (id, newPerson) => {\n    personService\n      .update(id, newPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n        setMessage({...message, type:'ok', text:`${returnedPerson.name} entry updated`})\n        setTimeout(() => {\n          setMessage({})\n        }, 3000)\n      })\n      .catch(error => {\n        const message = error.response.data\n        setMessage({...message, type:'error', text:`${message.error}`})\n        setTimeout(() => {\n          setMessage({})\n        }, 5000)\n        setPersons(persons.filter(person => person.id !== id))\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const handleSearchFilter = (event) => {\n    setSearchFilter(event.target.value)\n  }\n\n  const personList = searchFilter === ''\n    ? persons\n    : persons.filter((person) => {\n      const comparison = person.name.localeCompare(searchFilter, undefined, {sensitivity: 'base'})\n      return comparison === 0\n    })\n\n  return (\n    <div>\n      <Notification message={message}/>\n      <h1>Phonebook</h1>\n      <Filter searchFilter={searchFilter} handleSearchFilter={handleSearchFilter}/>\n      <h2>Add new entry</h2>\n      <Form addPerson={addPerson} newName={newName} handleNameChange={handleNameChange}\n            handleNumberChange={handleNumberChange} newNumber={newNumber}\n      />\n      <h2>Entries</h2>\n      <List persons={personList} destroyPerson={destroyPerson}/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}